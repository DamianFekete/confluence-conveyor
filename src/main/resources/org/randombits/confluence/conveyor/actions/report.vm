<html>
<head>
    <title>$action.getActionName($action.class.name)</title>
</head>
<body>
#requireResource("confluence.web.resources:aui-forms")
#requireResource("confluence.sections.admin.generalconfig:resources")

#parse ( "/template/includes/actionmessages.vm" )
#parse ( "/template/includes/actionerrors.vm" )

<form class="aui" action="#">
    <h1>$action.getText("org.randombits.confluence.conveyor.actions.report.title")</h1>

    <p>$action.getText("org.randombits.confluence.conveyor.actions.report.desc")</p>

    #foreach( $packageDetail in $packages )
    <h2>$generalUtil.htmlEncode($packageDetail.packageConfig.namespace)</h2>
    <p>
        <b>$action.getText("org.randombits.confluence.conveyor.actions.report.packageName"):</b>
        $generalUtil.htmlEncode($packageDetail.packageConfig.name)
        <br/>
    </p>
    <table class="grid" border="0">
        <thead>
        <tr>
            <th>$action.getText("org.randombits.confluence.conveyor.actions.report.actionName")</th>
            <th>$action.getText("org.randombits.confluence.conveyor.actions.report.type")</th>
            <th>$action.getText("org.randombits.confluence.conveyor.actions.report.plugin")</th>
        </tr>
        </thead>
        <tbody>
        #foreach( $actionDetail in $action.sortActions( $packageDetail.actions ) )
        <tr>
            <td>${generalUtil.htmlEncode(${actionDetail.actionName})}.action</td>
            <td>$action.getText("${actionDetail.class.name}.name" )</td>
            <td>${generalUtil.htmlEncode(${actionDetail.plugin.name})}</td>
        </tr>
        #end

        </tbody>
    </table>
    #end
</form>

</body>
</html>